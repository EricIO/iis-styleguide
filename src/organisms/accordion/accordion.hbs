<div style="padding: 40px">
	<button type="button" class="a-button" id="addAccordion"><span class="a-button__text">LÃ¤gg till</span></button>
</div>
<div class="js-o-accordion o-accordion">
	{{#each accordion_item}}
	<h3 class="js-accordion__header"{{#if is_expanded}} data-accordion-opened="true"{{/if}}>
		{{#if heading}}
		{{heading}}
		{{else if registrar}}
		<div class="row align-items-center o-accordion__row">
			{{#if registrar_logo}}
			<div class="grid-sm-auto grid-18">
				<img class="o-accordion__logo" src="{{registrar_logo}}" alt="{{registrar}} logotype">
			</div>
			{{/if}}
			<div class="grid">
				<dl class="o-accordion__list">
					<dt class="beta"><a href="https://www.google.se">{{registrar}}</a></dt>
					<dd class="o-accordion__list__item"><span class="o-accordion__list__flag">{{flag}}</span> {{location}}</dd>
					<dd class="o-accordion__list__item"><a href="{{registrar_url}}">{{registrar_url}}</a></dd>
					<dd class="o-accordion__list__item">{{{contact}}}</dd>
					<dd class="o-accordion__list__item"></dd>
				</dl>
			</div>
		</div>
		{{/if}}
	</h3>
	<div class="js-accordion__panel">
		<div class="o-accordion__panel__content">
			{{{content}}}
		</div>
	</div>
	{{/each}}
</div>
<script>
	document.getElementById('addAccordion').addEventListener('click', function () {
		const html = `
			<h3 class="js-accordion__header">
				Quisque non molestie arcu
			</h3>
			<div class="js-accordion__panel">
				<div class="o-accordion__panel__content">
					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ut elit lacinia, feugiat felis sit amet, congue ante. Morbi vel egestas mi. Nulla urna sapien, gravida et nisl ac, maximus euismod ipsum. Vivamus condimentum, massa non convallis hendrerit, orci mi porttitor nisi, at commodo purus magna non nisi. Duis feugiat lectus in sapien mollis, ac volutpat leo elementum. Nullam euismod massa a nulla placerat sagittis. Integer id purus a dolor fermentum mollis vel feugiat dui. Nullam neque diam, mattis nec cursus at, facilisis nec diam.</p><p>Proin faucibus pretium orci, eu tristique augue condimentum at. Suspendisse potenti. Donec ut luctus eros. Nam justo nunc, facilisis lobortis hendrerit sodales, fermentum at purus. Proin eget elementum nulla, nec tincidunt lacus. Mauris massa eros, interdum eget nunc id, molestie semper libero. Vivamus tortor ex, viverra ut varius vel, finibus hendrerit nunc. Morbi pulvinar arcu erat, consectetu mollis leo vulputate eu.</p>
				</div>
			</div>
		`;

		const wrapper = document.querySelector('.o-accordion');

		wrapper.insertBefore(document.createRange().createContextualFragment(html), wrapper.firstElementChild);
	});
</script>
